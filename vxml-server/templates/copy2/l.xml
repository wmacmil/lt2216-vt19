<?xml version="1.0" encoding="UTF-8"?>
<vxml version="2.1" xmlns="http://www.w3.org/2001/vxml"
      xmlns:voxeo="http://community.voxeo.com/xmlns/vxml">
  <nomatch>
    I didn't understand.
    <reprompt/>
  </nomatch>
  
  <noinput>
    You didn't say anything.
    <reprompt/>
  </noinput>

  <!-- Data model -->
  <var name="from" />
  <var name="to" />
  <var name="date" />
  <var name="ow" />
  <!-- <var name="tw" /> -->
  <!-- <var name="return" /> -->

  <!-- State machine -->
  <!-- <form id="welcome"> -->
  <!--   <block> -->
  <!--     <prompt> -->
  <!--       <break time="2000" /> -->
  <!--       Welcome to the flight booking service. --> 
  <!--     </prompt> -->
  <!--     <goto next="#askFrom" /> -->
  <!--   </block> -->
  <!-- </form> -->

  <form id="askFrom">
    <field name="fromField">
      <prompt>
        What city are you leaving from? 
      </prompt>
      <option>london</option>
      <option>paris</option>
      <option>new york</option>
    </field>
    <filled>
      <assign name="from" expr="fromField" />
      <goto next="#askTo" />
    </filled>
  </form>

  <form id="askTo">
    <field name="toField">
      <prompt>
        Where are you going?
      </prompt>
      <option>london</option>
      <option>paris</option>
      <option>new york</option>
    </field>
    <filled>
      <assign name="to" expr="toField" />
      <goto next="#askDate" />
    </filled>
  </form>

  <form id="askDate">
    <field name="dateField">
      <prompt>
        What date do you want to leave? <value expr="to"/>
      </prompt>
      <option>Monday</option>
      <option>Tuesday</option>
      <option>Wednesday</option>
      <option>Thursday</option>
      <option>Friday</option>
      <option>Saturday</option>
      <option>Sunday</option>
    </field>
    <filled>
      <assign name="date" expr="dateField" />
      <goto next="#askOneWay" />
    </filled>
  </form>

  <form id="askOneWay">
    <field name="oneWayField">
      <prompt>
        Is it a one way trip?
      </prompt>
      <option>Yes</option>
    </field>
    <filled>
      <assign name="ow" expr="oneWayField" />
      <goto next="#askTwoWay" />
      <!-- <goto next="#askDate" /> -->
    </filled>
  </form>

  <form id="askTwoWay">
    <field name="twoWayField", type="boolean">
      <prompt>
        Is it a one way trip?
      </prompt>
      <option>Yes</option>
    </field>
    <filled>
      <assign name="tw" expr="twoWayField" />
      <goto next="#askDate" />
    </filled>
  </form>

<!-- <form id="ynconfirm"> -->
<!--   <var name="user_input"/> -->
<!--   <field name="yn" type="boolean"> -->
<!--     <prompt>Did you say <value expr="user_input"/></prompt> -->
<!--     <filled> -->
<!--       <var name="result" expr="false"/> -->
<!--       <if cond="yn"> -->
<!--         <assign name="result" expr="true"/> -->
<!--       </if> -->
<!--       <return namelist="result"/> -->
<!--     </filled> -->
<!--   </field> -->
<!-- </form> -->

</vxml>

