<?xml version="1.0" encoding="UTF-8" ?>
<vxml version="2.0">

  <nomatch>
    I didn't understand.
  </nomatch>
  
  <noinput>
    You didn't say anything.
  </noinput>

  <script> <![CDATA[ 

    function getPV(futureVal, years, rate) {
      var base = (1 + (rate*.01));
      var denom = Math.pow(base, years);
      return Math.round(futureVal / denom);    
    }    

    var g1;
    var g2;
    var count = 1;

    function retRand() {
      var min=0; 
      var max=10 * count;  
      g1 = Math.floor(Math.random() * (+max - +min)) + +min; 
      return g1;
    }    

    function retRand2() {
      var min=0; 
      var max=10 * count;  
      g2 = Math.floor(Math.random() * (+max - +min)) + +min; 
      count += 1;
      return g2;
    }    
  
    var op;

    function yourNum(futureVal) {
      var correct = g1 + g2; 
      if (correct == futureVal) {
        return "correct";
      } else {
        return "incorrect";
      }
    }    

  ]]> </script> 

  <form id="computePresentValue">  

    <field name="fv" type="digits">
      <prompt>
        What is the sum of 
        <value expr="retRand() "/> and <value expr="retRand2() "/>?
      </prompt>
    </field> 

    <filled> 
      <prompt> 
        Your value of <value expr="fv"/> is
        <value expr="yourNum(fv) "/>.
      </prompt> 
      <goto next="#computePresentValue" />
      <!-- <goto next="#computePresentValue1" /> -->
    </filled> 

  </form> 

  <form id="computePresentValue1">  

    <field name="fv1" type="digits">
      <prompt>
        What is the sum of 
        <value expr="retRand() "/> and <value expr="retRand2() "/>?
      </prompt>
    </field> 

    <filled> 
      <prompt> 
        Your value of <value expr="fv1"/> is
        <value expr="yourNum(fv1) "/>.
      </prompt> 
    </filled> 

  </form> 

  <!-- <form id="computePresentValue"> -->  
  <!--   <field name="fv" type="digits"> -->
  <!--     <prompt> -->
  <!--       how much are they promising you? -->
  <!--       <value expr="retRand() "/> dollars. -->
  <!--     </prompt> -->
  <!--   </field> --> 
  <!--   <field name="years" type="digits"> -->
  <!--     <prompt>how many years?</prompt> -->
  <!--   </field> --> 
  <!--   <field name="rate" type="digits"> -->
  <!--     <prompt>whatâ€™s your current rate of return?</prompt> -->
  <!--   </field> -->   
  <!--   <filled> --> 
  <!--     <prompt> --> 
  <!--       For a future value of <value expr="fv"/> dollars, for -->
  <!--       <value expr="years"/> years, --> 
  <!--       at rate of <value expr="rate"/> percent, --> 
  <!--       Do not pay more than --> 
  <!--       <value expr="getPV(fv, years, rate) "/> dollars. -->
  <!--       Glad to be of service boss. good bye. -->
  <!--     </prompt> --> 
  <!--   </filled> --> 
  <!-- </form> --> 

</vxml>

