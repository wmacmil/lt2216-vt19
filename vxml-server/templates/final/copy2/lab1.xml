<?xml version="1.0" encoding="UTF-8" ?>
<vxml version="2.0">

  <nomatch>
    I didn't understand.
  </nomatch>
  
  <noinput>
    You didn't say anything.
  </noinput>

  <script> <![CDATA[ 

    var g1;
    var g2;
    var count = 1;

    function retRand() {
      var min=0; 
      var max=10 * count;  
      g1 = Math.floor(Math.random() * (+max - +min)) + +min; 
      return g1;
    }    

    function retRand2() {
      var min=0; 
      var max=10 * count;  
      g2 = Math.floor(Math.random() * (+max - +min)) + +min; 
      count += 1;
      return g2;
    }    
  
    var g3;
    var op;
    <!-- no const in emca < 2015 -->

    function retRandOp() {
      g3 = Math.random();
      if (g3 > 0.5) {
        op = g1 + g2;
        return "plus";
      } else {
        op = g1 * g2;
        return "times";
      }
    }    

    function yourNum(futureVal) {
      <!-- var correct1 = g1 + g2; --> 
      var correct = op;
      if (correct == futureVal) {
        return correct;
        <!-- return "correct"; -->
      } else {
        return correct;
        return "incorrect";
      }
    }    

  ]]> </script> 

  <form id="computePresentValue">  

    <field name="fv" type="digits">
      <prompt>
        <value expr="retRand() "/> and <value expr="retRand2() "/>?
        What is the <value expr="retRandOp() "/> of 
      </prompt>
    </field> 

    <filled> 
      <prompt> 
        Your value of <value expr="fv"/> is
        <value expr="yourNum(fv) "/>.
      </prompt> 
      <goto next="#computePresentValue" />
      <!-- <goto next="#computePresentValue1" /> -->
    </filled> 

  </form> 

  <form id="computePresentValue1">  

    <field name="fv1" type="digits">
      <prompt>
        What is the sum of 
        <value expr="retRand() "/> and <value expr="retRand2() "/>?
      </prompt>
    </field> 

    <filled> 
      <prompt> 
        Your value of <value expr="fv1"/> is
        <value expr="yourNum(fv1) "/>.
      </prompt> 
    </filled> 

  </form> 

</vxml>

